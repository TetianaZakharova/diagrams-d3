"use strict";(self.webpackChunkdiagrams_d3=self.webpackChunkdiagrams_d3||[]).push([[630,657,146,374,293],{4657:function(t,n,e){e.r(n),e.d(n,{Nodata:function(){return a}});e(2791);var o=e.p+"static/media/no-data-img.cb20a96ea81bb4843d6ed98780cec8c4.svg",r=e(184),a=function(){return(0,r.jsxs)("div",{className:"d-flex flex-column align-items-center",children:[(0,r.jsx)("img",{src:o,alt:"No data found"}),(0,r.jsx)("h3",{children:"No data found"})]})}},5146:function(t,n,e){e.r(n);var o=e(2791),r=e(3314),a=e(184);n.default=function(t){var n=t.sourceData,e=(0,o.useRef)(),c=n,i=0,s=90,l=30,u=170,d=1270-u-s,p=565-i-l;return(0,o.useEffect)((function(){(0,r.Ys)("#treeDiagram").selectAll("svg").remove();var t=(0,r.Ys)("#treeDiagram").append("svg").attr("width",d+s+u).attr("height",p+i+l).call((function(t){var n=(0,r.Ys)(t.node().parentNode),e=parseInt(t.style("width")),o=parseInt(t.style("height")),a=e/o;function c(){var e=parseInt(n.style("width"));t.attr("width",e),t.attr("height",Math.round(e/a))}t.attr("viewBox","0 0 "+e+" "+o).attr("perserveAspectRatio","xMinYMid").call(c),(0,r.Ys)(window).on("resize."+n.attr("id"),c)})).append("g").attr("transform","translate("+u+","+i+")"),n=750,e=(0,r.G_s)().size([p,d]),o=(0,r.bT9)(c);o.x0=p/2,o.y0=0,o.descendants().forEach((function(t,n){t.id=n,t._children=t.children})),function r(a){var c=e(o);console.log(c);var i=c.descendants(),s=c.descendants().slice(1);i.forEach((function(t){t.y=180*t.depth}));var l=t.selectAll("g.node").data(i,(function(t,n){return t.id||(t.id=n++)})),u=l.enter().append("g").attr("class","node").attr("transform",(function(t){return"translate("+a.y0+","+a.x0+")"})).attr("cursor","pointer").on("click",(function(t,n){n.children=n.children?null:n._children,r(n)}));u.append("circle").attr("class","node").attr("r",1e-6).style("fill",(function(t){return void 0!==t.data.color?t.data.color:t._children?"lightsteelblue":"#fff"})).style("stroke",(function(t){return void 0!==t.data.color?t.data.color:"steelblue"})),u.append("text").attr("dy",".35em").attr("x",(function(t){return t.children||t._children?-13:13})).attr("x",(function(t){return t._children?-13:13})).attr("text-anchor",(function(t){return t.children||t._children?"end":"start"})).text((function(t){return t.data.name}));var d=u.merge(l);d.transition().duration(n).attr("transform",(function(t){return"translate("+t.y+","+t.x+")"})),d.select("circle.node").attr("r",10).style("fill",(function(t){return void 0!==t.data.color?t.data.color:t._children?"lightsteelblue":"#fff"})).style("stroke",(function(t){return void 0!==t.data.color?t.data.color:"steelblue"})).attr("cursor","pointer");var p=l.exit().transition().duration(n).attr("transform",(function(t){return"translate("+a.y+","+a.x+")"})).remove();p.select("circle").attr("r",1e-6),p.select("text").style("fill-opacity",1e-6);var f=t.selectAll("path.link").data(s,(function(t){return t.id}));function h(t,n){return"M ".concat(t.y," ").concat(t.x,"\n                        C ").concat((t.y+n.y)/2," ").concat(t.x,",\n                        ").concat((t.y+n.y)/2," ").concat(n.x,",\n                        ").concat(n.y," ").concat(n.x)}f.enter().insert("path","g").attr("class","link").attr("d",(function(t){var n={x:a.x0,y:a.y0};return h(n,n)})).attr("fill","none").attr("class","link").attr("stroke","#bbbbbb").merge(f).transition().duration(n).attr("d",(function(t){return h(t,t.parent)})),f.exit().transition().duration(n).attr("d",(function(t){var n={x:a.x,y:a.y};return h(n,n)})).remove(),i.forEach((function(t){t.x0=t.x,t.y0=t.y}))}(o)}),[n]),(0,a.jsx)("div",{className:"col-lg-12 d-flex flex-column",children:(0,a.jsx)("div",{id:"treeDiagram",className:"col-lg-12 d-flex mx-auto",ref:e})})}},5293:function(t,n,e){e.r(n);var o=e(9439),r=e(2791),a=e(5146),c=e(4657),i=e(4374),s=e(184);n.default=function(){var t=(0,r.useState)([]),n=(0,o.Z)(t,2),e=n[0],l=n[1],u=(0,r.useState)([]),d=(0,o.Z)(u,2),p=d[0],f=d[1],h=i;return(0,r.useEffect)((function(){l(h)}),[]),(0,r.useEffect)((function(){f(function(){var t=[];null===e||void 0===e||e.forEach((function(n){void 0===t[n.user]?(t[n.user]=[],void 0===t[n.user][n.connector]?(t[n.user][n.connector]=[],t[n.user][n.connector].push(n.application)):t[n.user][n.connector].push(n.application)):void 0===t[n.user][n.connector]?(t[n.user][n.connector]=[],t[n.user][n.connector].push(n.application)):t[n.user][n.connector].push(n.application)})),console.log("multiArr",t);var n="demonstration.portal.transientxuat.deloitte.com".split("."),o="";o='{"name":"'+n[0]+'", "color":"#86bc25", "children":[';var r=!0,a=!0,c=!0;for(var i in t)if("unpack"!=i&&"unique"!=i){for(var s in r?r=!1:o+=",",console.log(t[i]),o+='{"name":"'+i+'", "color":"blue", "children":[',c=!0,t[i])0!=t[i][s].length&&(console.log(t[i][s]),c?c=!1:o+=",",o+='{"name":"'+u(s,"connector")+'", "color":"orange", "children":[',a=!0,t[i][s].forEach((function(t){a?a=!1:o+=",",o+='{"name":"'+u(t,"application")+'", "color":"green" }'})),o+="]}");o+="]}"}o+="]}";var l=JSON.parse(o);function u(t,n){var e=t;if("application"==n)e=void 0!==(r=(o=t.split(":"))[0].split(" "))[1]?r[1]:o[0],e=t;else if("connector"==n){var o,r;e=r=void 0!==(o=t.split(":"))[1]?o[1].trim():o[0].trim()}return e}return l}())}),[e]),console.log("sourceData",p),(0,s.jsx)(s.Fragment,{children:(null===e||void 0===e?void 0:e.length)>0?(0,s.jsx)(a.default,{sourceData:p}):(0,s.jsx)(c.Nodata,{})})}},630:function(t,n,e){e.r(n);e(2791);var o=e(5293),r=e(184);n.default=function(){return(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{children:"Interactive Tree diagram"}),(0,r.jsx)(o.default,{})]})}},4374:function(t){t.exports=JSON.parse('[{"user":"Peter","application":"TCP safebrowsing.googleapis.com:4438","connector":"Connector: Site-104026","data":18},{"user":"Peter","application":"TCP clientservices.googleapis.com:441","connector":"Connector: Site-104026","data":18},{"user":"Peter","application":"TCP doh.opendns.com:43","connector":"Connector: sb-net2-con1","data":8},{"user":"Peter","application":"TCP 2ip.ua:443","connector":"Connector: sb-net2-con1","data":7},{"user":"Peter","application":"TCP 172.253.63.132:443","connector":"Connector: sb-net2-con1","data":7},{"user":"Peter","application":"TCP 208.67.220.220:853","connector":"Connector: Site-104026","data":7},{"user":"Peter","application":"TCP pagead2.googlesyndication.com:443","connector":"Connector: sb-net2-con1","data":6},{"user":"Peter","application":"TCP 216.239.32.3:443","connector":"Connector: sb-net2-con1","data":6},{"user":"Peter","application":"TCP account.sap.com:443","connector":"Connector: sb-net2-con1","data":6},{"user":"Peter","application":"TCP safebrowsing.googleapis.com:443","connector":"Connector: sb-net2-con1","data":5},{"user":"Tanya","application":"TCP 2ip.ua:443","connector":"Connector: sb-net2-con1","data":5},{"user":"Tanya","application":"TCP safebrowsing:44","connector":"Connector: sb-net2-con1","data":5},{"user":"Tanya","application":"TCP clientservices.googleapis.com:441","connector":"Connector: sb-net2-con1","data":6},{"user":"Tanya","application":"TCP account.sap.com:443","connector":"Connector: sb-net2-con2","data":6},{"user":"Tanya","application":"TCP safebrowsing.googleapis.com:443","connector":"Connector: sb-net2-con2","data":6},{"user":"Tanya","application":"TCP 216.239.32.3:443","connector":"Connector: sb-net2-con3","data":8}]')}}]);
//# sourceMappingURL=630.59ef90a5.chunk.js.map